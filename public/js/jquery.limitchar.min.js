(function(a){a.fn.Limitchar=function(c){var e={txtNote:"",txtLimit:"",limitCount:20,txtSpan:"",isbyte:false,txtByte:1};var d=a.extend(e,c);a(this).keyup(function(){b()});a(this).keydown(function(){b()});this.each(function(){});function b(){a(d.txtSpan).text(d.limitCount);var f=0;if(d.isbyte){f=a(d.txtNote).val().match(/[\x00-\xff]/ig).length}else{f=a(d.txtNote).val().length}if(f>d.limitCount){if(d.isbyte){a(d.txtNote).val(a(d.txtNote).val().substring(0,d.txtlength+Math.floor((d.limitCount-d.txtByte)/2)));a(d.txtLimit).text(d.limitCount-d.txtByte)}else{a(d.txtNote).val(a(d.txtNote).val().substring(0,d.limitCount));a(d.txtLimit).text(0)}}else{a(d.txtLimit).text(d.limitCount-f)}}}})(jQuery);
